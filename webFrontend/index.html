<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>frontend</title>
    <link rel="stylesheet" href="src/style.css">
  </head>
  <body>
    <header>
      <a href="index.html">Home</a>
      <a href="register.html">Register</a>
      <a href="login.html">Login</a>
    </header>
    <main>
      <h1>TODOS</h1>
      <ul id="todoList">

      </ul>
      <div>
        <input type="text" name="todo" id="todo-input">
        <button id="todo-add">Add</button>
      </div>
    </main>
    <script type="module" src="/src/main.js"></script>
    <script>
      // // index.html - Inside a <script> tag

      //   async function checkAuth() {
      //       const checkUrl = 'http://localhost:8080/auth/check_auth.php'; 
            
      //       // Note: This request will automatically send the session cookie set during login.
      //       try {
      //           const response = await fetch(checkUrl); 
                
      //           if (!response.ok) {
      //               // Not logged in (or session expired). Redirect to login.
      //               window.location.href = 'login.html';
      //           }
      //           // If successful (response.ok), proceed to load the rest of the todo app.

      //       } catch (error) {
      //           console.error("Auth check failed:", error);
      //           window.location.href = 'login.html';
      //       }
      //   }

      //   // Run the check when the page loads
      //   checkAuth();
    </script>
  </body>
</html>
